{"ast":null,"code":"var _jsxFileName = \"E:\\\\Final Year Project\\\\Frontend\\\\brands_sale\\\\src\\\\Components\\\\Confirmpassword.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Confirmpassword = ({\n  match\n}) => {\n  _s();\n\n  const history = useHistory();\n  const [confirmpassword, setConfirmpassword] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [err, setErr] = useState(\"\");\n  const [load, setLoad] = useState(false);\n  const uid = match.params.uid;\n  const token = match.params.token;\n  console.warn('*****************activation*****************');\n  console.warn(uid);\n  console.warn(token);\n\n  const submit = async e => {\n    e.preventDefault();\n    setLoad(true);\n    const article = {\n      uid: uid,\n      token: token,\n      new_password: password,\n      re_new_password: confirmpassword\n    };\n    const response = await fetch('http://127.0.0.1:8000/auth/users/reset_password_confirm/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(article)\n    }).then(res => {\n      if (res.status == 204) {\n        alert('Password change successfully');\n        history.push('/login');\n      }\n    });\n    setTimeout(() => {\n      setLoad(false);\n    }, 1000);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"register-login-section spad\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-6 offset-lg-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"login-form\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              action: \"#\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"group-input\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"pass\",\n                  children: \"Password *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 56,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  value: password,\n                  onChange: e => setPassword(e.target.value),\n                  className: \"form-control\",\n                  id: \"inputPassword4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                  style: {\n                    color: \"red\"\n                  },\n                  children: err\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 58,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"group-input\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"password\",\n                  children: \"Password *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 61,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  className: `form-control ${errors.password && \"invalid\"}`,\n                  ...register(\"password\", {\n                    required: \"password is Required\",\n                    pattern: {\n                      value: /[a-z0-9_]{8,20}/,\n                      message: \"Minimum Required password is 8 and not similar to username\"\n                    }\n                  }),\n                  onKeyUp: () => {\n                    trigger(\"password\");\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 41\n                }, this), errors.password && /*#__PURE__*/_jsxDEV(\"small\", {\n                  className: \"text-danger\",\n                  children: errors.password.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"group-input\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"pass\",\n                  children: \"Confirm Password *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  value: confirmpassword,\n                  onChange: e => setConfirmpassword(e.target.value),\n                  className: \"form-control\",\n                  id: \"inputPassword4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                  style: {\n                    color: \"red\"\n                  },\n                  children: err\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"site-btn login-btn\",\n                onClick: submit,\n                disabled: load,\n                children: [load && /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-refresh fa-spin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 124\n                }, this), \" Reset password\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Confirmpassword, \"Xy458E0ZdVaYiQCn9ZHYjmi1A+Y=\", false, function () {\n  return [useHistory];\n});\n\n_c = Confirmpassword;\nexport default Confirmpassword;\n\nvar _c;\n\n$RefreshReg$(_c, \"Confirmpassword\");","map":{"version":3,"sources":["E:/Final Year Project/Frontend/brands_sale/src/Components/Confirmpassword.jsx"],"names":["React","useState","Redirect","useHistory","Confirmpassword","match","history","confirmpassword","setConfirmpassword","password","setPassword","err","setErr","load","setLoad","uid","params","token","console","warn","submit","e","preventDefault","article","new_password","re_new_password","response","fetch","method","headers","body","JSON","stringify","then","res","status","alert","push","setTimeout","target","value","color","errors","register","required","pattern","message","trigger"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst Confirmpassword = ({match }) => {\r\n\r\n    const history = useHistory();\r\n\r\n    const [confirmpassword, setConfirmpassword] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [err, setErr] = useState(\"\");\r\n    const [load,setLoad]=useState(false);\r\n\r\n  \r\n        const uid = match.params.uid;\r\n        const token = match.params.token;\r\n        console.warn('*****************activation*****************')\r\n        console.warn(uid)\r\n        console.warn(token)\r\n\r\n        const submit = async (e) => {\r\n            e.preventDefault();\r\n            setLoad(true)\r\n            \r\n        \r\n            const article = { uid: uid, token: token,new_password:password,re_new_password:confirmpassword };\r\n            const response = await  fetch('http://127.0.0.1:8000/auth/users/reset_password_confirm/', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json'\r\n                \r\n            },\r\n                body: JSON.stringify(article)\r\n            }).then((res)=>\r\n            {\r\n                if(res.status==204){\r\n            alert('Password change successfully')\r\n                    history.push('/login')\r\n                }\r\n            })\r\n            setTimeout(()=>{\r\n                setLoad(false);\r\n            },1000)\r\n\r\n          }\r\n\r\n    return (\r\n        <div className=\"register-login-section spad\">\r\n        <div className=\"container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-lg-6 offset-lg-3\">\r\n                    <div className=\"login-form\">\r\n                        <h2>Login</h2>\r\n                        <form action=\"#\">\r\n                        \r\n                            <div className=\"group-input\">\r\n                                <label htmlFor=\"pass\">Password *</label>\r\n                                <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} className=\"form-control\" id=\"inputPassword4\" />\r\n                                <h6 style={{ color: \"red\" }} >{err}</h6>\r\n                            </div>\r\n                            <div className=\"group-input\">\r\n                                        <label for=\"password\">Password *</label>\r\n                                        {/* <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} className=\"form-control\" id=\"inputPassword4\" required /> */}\r\n                                        <input\r\n                                            type=\"password\"\r\n                                            className={`form-control ${errors.password && \"invalid\"}`}\r\n                                            {...register(\"password\", {\r\n                                                required: \"password is Required\",\r\n                                                pattern: {\r\n                                                    value: /[a-z0-9_]{8,20}/,\r\n                                                    message: \"Minimum Required password is 8 and not similar to username\",\r\n                                                }\r\n                                            })}\r\n                                            onKeyUp={() => {\r\n                                                trigger(\"password\");\r\n                                            }}\r\n                                        />\r\n                                        {errors.password && (\r\n                                            <small className=\"text-danger\">{errors.password.message}</small>\r\n                                        )}\r\n                                    </div>\r\n                                    \r\n                           \r\n                            <div className=\"group-input\">\r\n                                <label htmlFor=\"pass\">Confirm Password *</label>\r\n                                <input type=\"password\" value={confirmpassword} onChange={(e) => setConfirmpassword(e.target.value)} className=\"form-control\" id=\"inputPassword4\" />\r\n                                <h6 style={{ color: \"red\" }} >{err}</h6>\r\n                            </div>\r\n                            <button type=\"submit\" className=\"site-btn login-btn\" onClick={submit} disabled={load}>{load && <i className=\"fa fa-refresh fa-spin\"></i> } Reset password</button>\r\n                        </form>\r\n   \r\n                        <br/>\r\n                                              </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    );\r\n};\r\n\r\nexport default Confirmpassword;\r\n"]},"metadata":{},"sourceType":"module"}